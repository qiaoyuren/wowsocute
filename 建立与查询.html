<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®åº“20é¢˜å†²åˆºç‰¹è®­ - ä¹”è€å¸ˆ</title>
    <style>
        :root {
            --primary: #4834d4;
            --success: #6ab04c;
            --error: #eb4d4b;
            --bg: #f9f9f9;
            --card: #ffffff;
            --text: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 20px;
            color: var(--text);
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
        }

        /* å¤´éƒ¨è¿›åº¦ */
        .header {
            background: var(--card);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            text-align: center;
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* é¢˜ç›®å¡ç‰‡ */
        .question-card {
            background: var(--card);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: none; /* é»˜è®¤éšè— */
            animation: slideIn 0.4s ease;
        }

        .question-card.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .q-badge {
            background: var(--primary);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 15px;
            display: inline-block;
        }

        h3 { margin-top: 0; font-size: 1.3em; line-height: 1.6; }

        /* é€‰é¡¹ */
        .options { display: grid; gap: 12px; margin-top: 20px; }
        
        .opt-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.2s;
            position: relative;
        }

        .opt-btn:hover { border-color: var(--primary); background: #f4f6ff; }

        .opt-btn.correct { background: #dff9fb; border-color: var(--success); color: #009432; }
        .opt-btn.wrong { background: #ffdede; border-color: var(--error); color: #eb4d4b; }

        /* è§£æåŒºåŸŸ */
        .analysis {
            margin-top: 25px;
            border-top: 2px dashed #eee;
            padding-top: 20px;
            display: none;
        }

        .analysis-item { margin-bottom: 15px; }
        .label { font-weight: bold; color: var(--primary); display: block; margin-bottom: 5px; }
        .content { color: #555; line-height: 1.6; }
        
        .example-box {
            background: #f1f2f6;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
            font-family: 'Consolas', monospace;
            font-size: 0.9em;
            color: #333;
        }

        /* åº•éƒ¨å¯¼èˆª */
        .nav-btns {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            font-weight: bold;
        }
        .btn-next { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(72, 52, 212, 0.3); }
        .btn-next:disabled { background: #ccc; box-shadow: none; cursor: not-allowed; }

        /* ç»“ç®—é¡µ */
        .result-page {
            text-align: center;
            padding: 50px 20px;
            display: none;
        }
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            font-weight: bold;
            margin: 0 auto 30px;
            box-shadow: 0 10px 20px rgba(72, 52, 212, 0.4);
        }

    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h2 style="margin:0;">ğŸ”¥ æ•°æ®åº“20é¢˜ç‰¹è®­</h2>
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        <div style="margin-top:10px; font-size:0.9em; color:#666;">
            è¿›åº¦ï¼š<span id="q-index">1</span> / 20
        </div>
    </div>

    <div id="quiz-area"></div>

    <div class="result-page" id="result-area">
        <div class="score-circle" id="final-score">0</div>
        <h2>å…¨å·å®Œï¼</h2>
        <p>ä¹”è€å¸ˆï¼š<span id="comment"></span></p>
        <button class="btn btn-next" onclick="location.reload()">å†åˆ·ä¸€é</button>
    </div>
</div>

<script>
    /* 20é“ç²¾é€‰é¢˜ç›®æ•°æ® */
    const questions = [
        // --- ç¬¬ä¸€éƒ¨åˆ†ï¼šå»ºè¡¨ä¸ç»“æ„ (DDL) ---
        {
            q: "æƒ³è¦åˆ é™¤ä¸€å¼ è¡¨ä¸­çš„ã€æ‰€æœ‰æ•°æ®ã€‘ï¼Œä½†ã€ä¿ç•™è¡¨ç»“æ„ã€‘ï¼ˆå³æˆ¿å­è¿˜åœ¨ï¼Œå®¶å…·æ‰”å…‰ï¼‰ï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆå‘½ä»¤ï¼Ÿ",
            opts: ["DROP TABLE", "DELETE TABLE", "DELETE FROM", "REMOVE TABLE"],
            ans: 2,
            point: "æ•°æ®åˆ é™¤ vs è¡¨åˆ é™¤",
            layman: "DROPæ˜¯æ‹†æˆ¿å­ï¼ˆè¿åœ°åŸºéƒ½æ²¡äº†ï¼‰ï¼›DELETEæ˜¯æ¬ç©ºæˆ¿å­ï¼ˆæˆ¿å­è¿˜èƒ½ä½ï¼‰ã€‚é¢˜ç›®è¯´ä¿ç•™ç»“æ„ï¼Œæ‰€ä»¥æ˜¯æ¬å®¶ã€‚",
            example: "DELETE FROM Student; -- åˆ å…‰æ•°æ®ï¼Œè¡¨è¿˜åœ¨"
        },
        {
            q: "åœ¨åˆ›å»ºè¡¨æ—¶ï¼Œä¸ºäº†ä¿è¯æŸåˆ—çš„å€¼ã€æ—¢ä¸ä¸ºç©ºä¹Ÿä¸é‡å¤ã€‘ï¼ˆå¦‚å­¦å·ï¼‰ï¼Œåº”è®¾ç½®ä»€ä¹ˆçº¦æŸï¼Ÿ",
            opts: ["UNIQUE", "NOT NULL", "PRIMARY KEY", "FOREIGN KEY"],
            ans: 2,
            point: "ä¸»é”®çº¦æŸ",
            layman: "ä¸»é”® = å”¯ä¸€ + éç©ºã€‚å°±åƒèº«ä»½è¯å·ï¼Œæ¯ä¸ªäººå¿…é¡»æœ‰ï¼Œè€Œä¸”ä¸èƒ½å’Œåˆ«äººä¸€æ ·ã€‚",
            example: "Sno CHAR(10) PRIMARY KEY"
        },
        {
            q: "ä¸‹åˆ—å…³äº VARCHAR(n) å’Œ CHAR(n) çš„è¯´æ³•ï¼Œé”™è¯¯çš„æ˜¯ï¼Ÿ",
            opts: ["CHARæ˜¯å®šé•¿çš„ï¼ŒVARCHARæ˜¯å˜é•¿çš„", "å­˜æ”¾'ç”·'æˆ–'å¥³'å»ºè®®ç”¨CHAR(2)", "VARCHARæ¯”CHARæ›´èŠ‚çœç©ºé—´", "VARCHARçš„è¯»å–é€Ÿåº¦é€šå¸¸æ¯”CHARå¿«"],
            ans: 3,
            point: "æ•°æ®ç±»å‹å¯¹æ¯”",
            layman: "CHARæ˜¯å›ºå®šæ ¼å­çš„ç›’å­ï¼ŒVARCHARæ˜¯ä¼¸ç¼©è¢‹ã€‚CHARè™½ç„¶å¯èƒ½æµªè´¹ç©ºé—´ï¼Œä½†å› ä¸ºè§„æ•´ï¼Œè¯»å–é€Ÿåº¦æ¯”éœ€è¦è®¡ç®—é•¿åº¦çš„VARCHARè¦å¿«ã€‚",
            example: "èº«ä»½è¯ç”¨ CHAR(18)ï¼Œå§“åç”¨ VARCHAR(20)ã€‚"
        },
        
        // --- ç¬¬äºŒéƒ¨åˆ†ï¼šå¢åˆ æ”¹ (DML) ---
        {
            q: "æ‰§è¡Œ `UPDATE Student SET Age = 20` è¯­å¥åï¼Œä¼šå‘ç”Ÿä»€ä¹ˆåæœï¼Ÿ",
            opts: ["ä¿®æ”¹å½“å‰é€‰ä¸­çš„é‚£ä¸€è¡Œ", "ä¿®æ”¹ç¬¬ä¸€è¡Œæ•°æ®", "ä¿®æ”¹è¡¨ä¸­æ‰€æœ‰å­¦ç”Ÿçš„å¹´é¾„", "æŠ¥é”™ï¼Œå¿…é¡»åŠ WHERE"],
            ans: 2,
            point: "UPDATEé™·é˜±",
            layman: "UPDATE ä¸åŠ  WHEREï¼Œå°±æ˜¯â€œåœ°å›¾ç‚®â€ï¼å®ƒä¼šæŠŠå…¨è¡¨æ¯ä¸€è¡Œéƒ½æ”¹äº†ã€‚è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“çŠ¯çš„â€œåˆ åº“è·‘è·¯â€çº§é”™è¯¯ã€‚",
            example: "å¿…é¡»å†™ï¼šUPDATE Student SET Age=20 WHERE Sno='001';"
        },
        {
            q: "å‘ Student è¡¨æ’å…¥ä¸€æ¡æ–°è®°å½•ï¼Œæ­£ç¡®çš„è¯­æ³•æ˜¯ï¼Ÿ",
            opts: ["INSERT Student VALUES (...)", "INSERT INTO Student VALUES (...)", "ADD INTO Student VALUES (...)", "CREATE Student VALUES (...)"],
            ans: 1,
            point: "æ’å…¥è¯­æ³•",
            layman: "å¾€é‡Œå¡ä¸œè¥¿ï¼Œç”¨ INSERT INTOã€‚Addæ˜¯ä¿®æ”¹è¡¨ç»“æ„ç”¨çš„ï¼ŒCreateæ˜¯é€ æ–°è¡¨ç”¨çš„ã€‚",
            example: "INSERT INTO Student(Sno, Name) VALUES('01', 'ä¹”');"
        },

        // --- ç¬¬ä¸‰éƒ¨åˆ†ï¼šåŸºç¡€æŸ¥è¯¢ä¸WHERE ---
        {
            q: "åœ¨ SELECT æŸ¥è¯¢ä¸­ï¼Œç”¨äºã€å»é‡ã€‘çš„å…³é”®å­—æ˜¯ï¼Ÿ",
            opts: ["UNIQUE", "DISTINCT", "DIFFERENT", "ONLY"],
            ans: 1,
            point: "å»é‡æŸ¥è¯¢",
            layman: "DISTINCT å°±åƒç­›å­ï¼ŒæŠŠé‡å¤å‡ºç°çš„è¡Œè¿‡æ»¤æ‰ï¼Œåªä¿ç•™å”¯ä¸€çš„ã€‚",
            example: "SELECT DISTINCT Sdept FROM Student; -- æŸ¥æœ‰å“ªäº›ç³»"
        },
        {
            q: "æŸ¥è¯¢åå­—ä¸­ã€å§“å¼ ã€‘çš„å­¦ç”Ÿï¼ˆåå­—å¯ä»¥æ˜¯2ä¸ªå­—æˆ–3ä¸ªå­—ï¼‰ï¼ŒWHEREå­å¥åº”å†™ä¸ºï¼Ÿ",
            opts: ["Name LIKE 'å¼ _'", "Name LIKE 'å¼ %'", "Name = 'å¼ *'", "Name LIKE 'å¼ ?'"],
            ans: 1,
            point: "æ¨¡ç³ŠåŒ¹é…é€šé…ç¬¦",
            layman: "% ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼ˆ0åˆ°æ— ç©·ï¼‰ï¼Œ_ ä»…ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚ä¸ç®¡å¼ ä¸‰è¿˜æ˜¯å¼ ä¸‰ä¸°ï¼Œç”¨ 'å¼ %' éƒ½èƒ½å…œä½ã€‚",
            example: "WHERE Name LIKE 'å¼ %'; -- åŒ¹é…å¼ ä¸‰ã€å¼ æ— å¿Œ..."
        },
        {
            q: "æŸ¥è¯¢æˆç»©ä¸ºç©ºï¼ˆè¿˜æ²¡å½•å…¥ï¼‰çš„å­¦ç”Ÿï¼Œæ¡ä»¶æ€ä¹ˆå†™ï¼Ÿ",
            opts: ["Score = NULL", "Score IS NULL", "Score == NULL", "Score = 'NULL'"],
            ans: 1,
            point: "ç©ºå€¼åˆ¤æ–­",
            layman: "NULL ä¸æ˜¯ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯â€œæ— â€ã€‚ä½ ä¸èƒ½è¯´â€œå®ƒç­‰äºæ— å—â€ï¼Œåªèƒ½é—®â€œå®ƒæ˜¯æ— å—â€ï¼ˆIS NULLï¼‰ã€‚",
            example: "WHERE Score IS NULL; -- æ­£ç¡®å†™æ³•"
        },
        {
            q: "æŸ¥è¯¢å¹´é¾„åœ¨ 20 åˆ° 23 å²ä¹‹é—´çš„å­¦ç”Ÿï¼ˆåŒ…å«20å’Œ23ï¼‰ï¼Œæœ€ä½³å†™æ³•æ˜¯ï¼Ÿ",
            opts: ["Age >= 20 OR Age <= 23", "Age BETWEEN 20 AND 23", "Age IN (20, 23)", "Age > 20 AND Age < 23"],
            ans: 1,
            point: "èŒƒå›´æŸ¥è¯¢",
            layman: "BETWEEN ... AND ... æ˜¯ä¸“é—¨ç”¨æ¥ç”»åœˆåœˆçš„ï¼ŒåŒ…å«è¾¹ç•Œå€¼ï¼ˆé—­åŒºé—´ï¼‰ã€‚é€‰é¡¹Aé€»è¾‘é”™äº†ï¼ˆä¼šé€‰å‡ºæ‰€æœ‰äººï¼‰ï¼ŒCåªé€‰äº†20å’Œ23ä¸¤å²ã€‚",
            example: "WHERE Age BETWEEN 20 AND 23;"
        },
        {
            q: "æŸ¥è¯¢è®¡ç®—æœºç³»ï¼ˆCSï¼‰å’Œæ•°å­¦ç³»ï¼ˆMAï¼‰çš„å­¦ç”Ÿï¼Œæ¡ä»¶å†™ä¸ºï¼Ÿ",
            opts: ["Sdept = 'CS' AND Sdept = 'MA'", "Sdept IN ('CS', 'MA')", "Sdept BETWEEN 'CS' AND 'MA'", "Sdept LIKE 'CS%MA'"],
            ans: 1,
            point: "é›†åˆæŸ¥è¯¢",
            layman: "ä¸€ä¸ªäººä¸å¯èƒ½æ—¢æ˜¯CSåˆæ˜¯MAï¼ˆAé”™ï¼‰ã€‚è¿™æ˜¯â€œå¤šé€‰ä¸€â€ï¼Œåªè¦åœ¨åå•é‡Œå°±è¡Œï¼Œç”¨ INã€‚",
            example: "WHERE Sdept IN ('CS', 'MA', 'IS');"
        },

        // --- ç¬¬å››éƒ¨åˆ†ï¼šèšåˆå‡½æ•° ---
        {
            q: "æƒ³è¦ç»Ÿè®¡å…¨ç­ä¸€å…±æœ‰å¤šå°‘åå­¦ç”Ÿï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ªå‡½æ•°ï¼Ÿ",
            opts: ["SUM(*)", "COUNT(*)", "TOTAL(*)", "MAX(*)"],
            ans: 1,
            point: "èšåˆå‡½æ•°-è®¡æ•°",
            layman: "COUNT æ˜¯æ•°äººå¤´ï¼ŒSUM æ˜¯æŠŠæ•°å€¼åŠ èµ·æ¥ï¼ˆæ¯”å¦‚ç®—æ€»åˆ†ï¼‰ã€‚ä½ ä¸èƒ½æŠŠå­¦å·åŠ èµ·æ¥ï¼Œæ²¡æ„ä¹‰ã€‚",
            example: "SELECT COUNT(*) FROM Student;"
        },
        {
            q: "ä¸‹åˆ—SQLè¯­å¥ä¸­ï¼Œã€é”™è¯¯ã€‘çš„æ˜¯ï¼Ÿ",
            opts: ["SELECT AVG(Sage) FROM Student", "SELECT COUNT(Sno) FROM Student", "SELECT * FROM Student WHERE AVG(Sage) > 20", "SELECT MAX(Score) FROM SC"],
            ans: 2,
            point: "èšåˆå‡½æ•°ä½ç½®",
            layman: "è¿™æ˜¯åœ°ç‹±çº§é™·é˜±ï¼WHERE ç®¡çš„æ˜¯åŸå§‹äººï¼ŒAVGç®¡çš„æ˜¯ç»Ÿè®¡æ•°æ®ã€‚WHERE åé¢ä¸èƒ½ç›´æ¥è·Ÿèšåˆå‡½æ•°ï¼å¿…é¡»ç”¨ HAVINGã€‚",
            example: "é”™è¯¯ï¼šWHERE AVG(Sage)>20 <br>æ­£ç¡®ï¼šHAVING AVG(Sage)>20"
        },

        // --- ç¬¬äº”éƒ¨åˆ†ï¼šåˆ†ç»„ä¸æ’åº ---
        {
            q: "SQLè¯­å¥æ‰§è¡Œé¡ºåºä¸­ï¼Œä¸‹åˆ—å“ªä¸ªå­å¥æ˜¯ã€æœ€åã€‘æ‰§è¡Œçš„ï¼ˆé™¤äº†LIMITï¼‰ï¼Ÿ",
            opts: ["FROM", "WHERE", "GROUP BY", "ORDER BY"],
            ans: 3,
            point: "æ‰§è¡Œé¡ºåº",
            layman: "å…ˆæ‰¾è¡¨(FROM)ï¼Œå†ç­›é€‰äºº(WHERE)ï¼Œå†åˆ†ç»„(GROUP)ï¼Œå†ç­›ç»„(HAVING)ï¼Œæœ€åæ‰æ˜¯æ•´ç†é˜Ÿå½¢(ORDER BY)ã€‚",
            example: "ORDER BY æ€»æ˜¯å†™åœ¨æœ€åé¢ã€‚"
        },
        {
            q: "è¦æŸ¥è¯¢å¹³å‡åˆ†å¤§äº80åˆ†çš„å­¦ç”Ÿå­¦å·ï¼Œåº”è¯¥ä½¿ç”¨ï¼Ÿ",
            opts: ["WHERE AVG(Score) > 80", "GROUP BY Sno HAVING AVG(Score) > 80", "ORDER BY AVG(Score) > 80", "GROUP BY Sno WHERE AVG(Score) > 80"],
            ans: 1,
            point: "HAVINGå­å¥",
            layman: "çœ‹åˆ°â€œæ¯...çš„å¹³å‡...â€ï¼Œå¿…ç”¨ GROUP BY åˆ†ç»„ã€‚çœ‹åˆ°å¯¹â€œå¹³å‡å€¼â€åšç­›é€‰ï¼Œå¿…ç”¨ HAVINGã€‚",
            example: "GROUP BY Sno HAVING AVG(Score) > 80"
        },
        {
            q: "`ORDER BY Score DESC` è¡¨ç¤ºä»€ä¹ˆæ„æ€ï¼Ÿ",
            opts: ["æŒ‰æˆç»©å‡åºæ’åˆ—", "æŒ‰æˆç»©é™åºæ’åˆ—", "æŒ‰æˆç»©éšæœºæ’åˆ—", "æŒ‰æˆç»©æè¿°æ’åˆ—"],
            ans: 1,
            point: "æ’åºæ–¹å‘",
            layman: "ASC (Ascend) æ˜¯å‡åºï¼ˆä»å°åˆ°å¤§ï¼‰ï¼ŒDESC (Descend) æ˜¯é™åºï¼ˆä»å¤§åˆ°å°ï¼Œé«˜åˆ†åœ¨æœ€ä¸Šé¢ï¼‰ã€‚",
            example: "ORDER BY Score DESC; -- ç¬¬ä¸€åæ’ç¬¬ä¸€ä¸ª"
        },

        // --- ç¬¬å…­éƒ¨åˆ†ï¼šè¿æ¥ä¸åµŒå¥— ---
        {
            q: "åœ¨å¤šè¡¨æŸ¥è¯¢ä¸­ï¼Œå¦‚æœçœç•¥äº†è¿æ¥æ¡ä»¶ï¼ˆå¦‚ WHERE A.id = B.idï¼‰ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ",
            opts: ["æŠ¥é”™", "æŸ¥è¯¢ç»“æœä¸ºç©º", "äº§ç”Ÿç¬›å¡å°”ç§¯ï¼ˆæ•°æ®é‡çˆ†ç‚¸ï¼‰", "è‡ªåŠ¨æ‰¾åˆ°å…³è”"],
            ans: 2,
            point: "ç¬›å¡å°”ç§¯",
            layman: "å¦‚æœä¸å‘Šè¯‰æ•°æ®åº“æ€ä¹ˆè¿ï¼Œå®ƒå°±ä¼šæŠŠAè¡¨çš„æ¯ä¸€è¡Œéƒ½å’ŒBè¡¨çš„æ¯ä¸€è¡Œä¹±é…å¯¹ã€‚100è¡Œé…100è¡Œ=10000è¡Œåƒåœ¾æ•°æ®ã€‚",
            example: "å¿…é¡»å†™ï¼šWHERE Student.Sno = SC.Sno"
        },
        {
            q: "æŸ¥è¯¢â€œé€‰ä¿®äº†è¯¾ç¨‹å·ä¸ºC1çš„å­¦ç”Ÿå§“åâ€ï¼Œæ¶‰åŠStudentè¡¨å’ŒSCè¡¨ï¼Œè¿æ¥æ¡ä»¶æ˜¯ï¼Ÿ",
            opts: ["Student.Sname = SC.Sname", "Student.Sno = SC.Sno", "Student.Sno = SC.Cno", "ä¸éœ€è¦è¿æ¥"],
            ans: 1,
            point: "ç­‰å€¼è¿æ¥",
            layman: "æ‰¾ä¸¤å¼ è¡¨çš„â€œæ¡¥æ¢â€ã€‚å­¦ç”Ÿè¡¨å’Œæˆç»©è¡¨éƒ½æœ‰â€œå­¦å·(Sno)â€ï¼Œè¿™å°±æ˜¯æ¡¥æ¢ã€‚",
            example: "WHERE Student.Sno = SC.Sno AND SC.Cno='C1'"
        },
        {
            q: "åµŒå¥—æŸ¥è¯¢ä¸­ï¼Œå­æŸ¥è¯¢ï¼ˆé‡Œå±‚æŸ¥è¯¢ï¼‰çš„ç»“æœå¦‚æœåŒ…å«å¤šä¸ªå€¼ï¼Œå¤–å±‚æŸ¥è¯¢åº”è¯¥ç”¨ä»€ä¹ˆç¬¦å·ï¼Ÿ",
            opts: ["=", "IN", "LIKE", "IS"],
            ans: 1,
            point: "å­æŸ¥è¯¢æ“ä½œç¬¦",
            layman: "å¦‚æœé‡Œå±‚æŸ¥å‡ºæ¥ä¸€å †äººï¼ˆæ¯”å¦‚è®¡ç®—æœºç³»æ‰€æœ‰äººçš„å­¦å·ï¼‰ï¼Œå¤–å±‚è¦åŒ¹é…è¿™ä¸€å †ï¼Œå°±å¾—ç”¨ INï¼ˆåœ¨åå•é‡Œï¼‰ã€‚= åªèƒ½å¯¹ä¸€ä¸ªå€¼ã€‚",
            example: "WHERE Sno IN (SELECT Sno FROM ...)"
        },
        
        // --- ç¬¬ä¸ƒéƒ¨åˆ†ï¼šç»¼åˆä¸æ¦‚å¿µ ---
        {
            q: "äº‹åŠ¡ï¼ˆTransactionï¼‰çš„ ACID ç‰¹æ€§ä¸­ï¼ŒI æŒ‡çš„æ˜¯ï¼Ÿ",
            opts: ["ä¸€è‡´æ€§ (Integrity)", "éš”ç¦»æ€§ (Isolation)", "ç«‹å³æ€§ (Immediate)", "æ™ºèƒ½æ€§ (Intelligence)"],
            ans: 1,
            point: "äº‹åŠ¡ACID",
            layman: "A=åŸå­æ€§, C=ä¸€è‡´æ€§, I=éš”ç¦»æ€§, D=æŒä¹…æ€§ã€‚éš”ç¦»æ€§æŒ‡å¤§å®¶å¹¶å‘åšæ“ä½œæ—¶äº’ä¸å¹²æ‰°ã€‚",
            example: "Isolation: ä½ è½¬è´¦æ—¶ï¼Œåˆ«äººçœ‹ä¸åˆ°ä¸­é—´çŠ¶æ€ã€‚"
        },
        {
            q: "SQL è¯­è¨€å±äºå“ªç§ç±»å‹çš„è¯­è¨€ï¼Ÿ",
            opts: ["è¿‡ç¨‹åŒ–è¯­è¨€", "éè¿‡ç¨‹åŒ–è¯­è¨€", "é¢å‘å¯¹è±¡è¯­è¨€", "æ±‡ç¼–è¯­è¨€"],
            ans: 1,
            point: "SQLè¯­è¨€ç‰¹ç‚¹",
            layman: "SQLæ˜¯éè¿‡ç¨‹åŒ–çš„ã€‚ä½ åªéœ€è¦å‘Šè¯‰å®ƒâ€œæˆ‘è¦ä»€ä¹ˆï¼ˆWhatï¼‰â€ï¼Œä¸éœ€è¦å‘Šè¯‰å®ƒâ€œæ€ä¹ˆåšï¼ˆHowï¼‰â€ï¼Œæ€ä¹ˆåšæ˜¯DBMSçš„äº‹ã€‚",
            example: "SELECT * FROM ... (æˆ‘è¦æ‰€æœ‰æ•°æ®ï¼Œåˆ«ç®¡æˆ‘æ€ä¹ˆæŸ¥)"
        }
    ];

    let currentIdx = 0;
    let score = 0;

    function initQuiz() {
        const area = document.getElementById('quiz-area');
        let html = '';
        
        questions.forEach((item, index) => {
            html += `
                <div class="question-card" id="q-card-${index}">
                    <span class="q-badge">ç¬¬ ${index + 1} é¢˜</span>
                    <h3>${item.q}</h3>
                    <div class="options">
                        ${item.opts.map((opt, i) => `
                            <button class="opt-btn" onclick="checkAnswer(${index}, ${i}, this)">
                                ${String.fromCharCode(65+i)}. ${opt}
                            </button>
                        `).join('')}
                    </div>
                    <div class="analysis" id="analysis-${index}">
                        <div class="analysis-item">
                            <span class="label">ğŸ¯ çŸ¥è¯†ç‚¹ï¼š${item.point}</span>
                        </div>
                        <div class="analysis-item">
                            <span class="label">ğŸ—£ï¸ ä¹”è€å¸ˆé€šä¿—è®²è§£ï¼š</span>
                            <span class="content">${item.layman}</span>
                        </div>
                        <div class="analysis-item">
                            <span class="label">ğŸ’¡ ä¸¾ä¸€åä¸‰ï¼š</span>
                            <div class="example-box">${item.example}</div>
                        </div>
                        <div style="text-align:right; margin-top:20px;">
                            <button class="btn btn-next" id="btn-next-${index}" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¢˜ âœ</button>
                        </div>
                    </div>
                </div>
            `;
        });
        area.innerHTML = html;
        showQuestion(0);
    }

    function showQuestion(index) {
        document.querySelectorAll('.question-card').forEach(el => el.classList.remove('active'));
        const card = document.getElementById(`q-card-${index}`);
        if(card) card.classList.add('active');
        
        // æ›´æ–°è¿›åº¦æ¡
        const pct = ((index + 1) / questions.length) * 100;
        document.getElementById('progress').style.width = `${pct}%`;
        document.getElementById('q-index').innerText = index + 1;
    }

    function checkAnswer(qIdx, optIdx, btn) {
        // é˜²æ­¢é‡å¤ç‚¹å‡»
        const card = document.getElementById(`q-card-${qIdx}`);
        if(card.getAttribute('data-answered')) return;
        card.setAttribute('data-answered', 'true');

        const correct = questions[qIdx].ans;
        const optionsDiv = card.querySelector('.options');
        const btns = optionsDiv.querySelectorAll('.opt-btn');

        if(optIdx === correct) {
            btn.classList.add('correct');
            score++;
        } else {
            btn.classList.add('wrong');
            btns[correct].classList.add('correct'); // é«˜äº®æ­£ç¡®ç­”æ¡ˆ
        }

        // æ˜¾ç¤ºè§£æ
        document.getElementById(`analysis-${qIdx}`).style.display = 'block';
        document.getElementById(`btn-next-${qIdx}`).disabled = false;
    }

    function nextQuestion() {
        if(currentIdx < questions.length - 1) {
            currentIdx++;
            showQuestion(currentIdx);
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({top: 0, behavior: 'smooth'});
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-area').style.display = 'none';
        document.querySelector('.header').style.display = 'none';
        
        const resultArea = document.getElementById('result-area');
        resultArea.style.display = 'block';
        
        // è®¡åˆ†åŠ¨ç”»
        let s = 0;
        const scoreEl = document.getElementById('final-score');
        const timer = setInterval(() => {
            if(s >= score * 5) { // å‡è®¾æ¯é¢˜5åˆ†ï¼Œæ»¡åˆ†100
                clearInterval(timer);
                generateComment(score);
            } else {
                s++;
                scoreEl.innerText = s;
            }
        }, 30);
    }

    function generateComment(rawScore) {
        const finalScore = rawScore * 5;
        const el = document.getElementById('comment');
        if(finalScore === 100) el.innerText = "å®Œç¾å…¨å¯¹ï¼ä½ æ˜¯æ•°æ®åº“ä¹‹ç¥ï¼ğŸš€";
        else if(finalScore >= 80) el.innerText = "ä¼˜ç§€ï¼æœŸæœ«A+ç¨³äº†ï¼ğŸŒŸ";
        else if(finalScore >= 60) el.innerText = "åŠæ ¼äº†ï¼Œä½†è¿˜è¦æ³¨æ„ç»†èŠ‚å“¦ï¼ğŸ’ª";
        else el.innerText = "åŸºç¡€æœ‰ç‚¹è–„å¼±ï¼Œå¿«å»çœ‹ä¹”è€å¸ˆçš„å¤ä¹ å®å…¸ï¼ğŸ“š";
    }

    initQuiz();
</script>

</body>
</html>